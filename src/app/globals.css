@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

:root {
  /* our colors */
  --clr-primary-200: oklch(0.5783 0.0643 274.44 / 1);
  --clr-primary-400: oklch(0.5744 0.1383 272.82 / 0.9);
  --clr-primary-800: oklch(0.2506 0.0647 270.92 / 1);

  /* shadcn/ui (dark) */
  --background: oklch(0.2779 0.0668 271.89 / 1);
  --foreground: oklch(1 0 89.88 / 1);
  --card: oklch(0.216 0.006 56.043);
  --card-foreground: oklch(0.985 0.001 106.423);
  --popover: oklch(0.216 0.006 56.043);
  --popover-foreground: oklch(0.985 0.001 106.423);
  --primary: transparent;
  --primary-foreground: oklch(0.4374 0.0976 272.26 / 1);
  --secondary: transparent;
  --secondary-foreground: oklch(0.6242 0.1884 274.19 / 1);
  --muted: oklch(0.268 0.007 34.298);
  --muted-foreground: oklch(0.4374 0.0976 272.26 / 1);
  --accent: transparent;
  --accent-foreground: oklch(0.7478 0.1765 163.47 / 1);
  --destructive: transparent;
  --destructive-foreground: oklch(0.7478 0.1765 163.47 / 1);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(0.4374 0.0976 272.26 / 1);
  --ring: oklch(0.7478 0.1765 163.47 / 1);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.216 0.006 56.043);
  --sidebar-foreground: oklch(0.985 0.001 106.423);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0.001 106.423);
  --sidebar-accent: oklch(0.268 0.007 34.298);
  --sidebar-accent-foreground: oklch(0.985 0.001 106.423);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.553 0.013 58.071);

  /* shadcn/ui (shared) */
  --radius: 0.625rem;
}

@theme inline {
  --font-outfit: var(--font-outfit);

  --color-clr-primary-200: var(--clr-primary-200);
  --color-clr-primary-400: var(--clr-primary-400);
  --color-clr-primary-800: var(--clr-primary-800);

  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  --animate-valid-error: valid-error 3s
    linear(
      0,
      0.003,
      0.012,
      0.027,
      0.048,
      0.075,
      0.108,
      0.147,
      0.192,
      0.243,
      0.3,
      0.363,
      0.432,
      0.507,
      0.588,
      0.675,
      0.768,
      0.867,
      0.972,
      1.083,
      1.2,
      1.185,
      1.14,
      1.095,
      1.05,
      1.027,
      1.012,
      1.003,
      1,
      0.995,
      0.99,
      0.985,
      0.98,
      0.977,
      0.975,
      0.973,
      0.975,
      0.977,
      0.98,
      0.985,
      0.99,
      0.995,
      1,
      1.003,
      1.005,
      1.007,
      1.008,
      1.008,
      1.007,
      1.005,
      1.003,
      1,
      1
    )
    forwards;

  --animate-slide-lr: slide-lr 1s ease-in-out forwards;
  --animate-slide-bt: slide-bt 1s ease-in-out forwards;
  --animate-slide-lr-fade-out: slide-lr 1s ease-in-out forwards, fade-out 24s ease-in-out alternate infinite;
  --animate-slide-lr-fade-in: slide-lr 1s ease-in-out forwards, fade-in 24s ease-in-out alternate infinite;
  --animate-slide-bt-fade-out: slide-bt 1s ease-in-out forwards, fade-out 24s ease-in-out alternate infinite;
  --animate-slide-bt-fade-in: slide-bt 1s ease-in-out forwards, fade-in 24s ease-in-out alternate infinite;
  --animate-fade-in-out: fade-in-out 48s ease-in-out infinite;
  --animate-spark-h: spark-h 24s linear infinite;
  --animate-spark-h-l: spark-h-l 128s linear infinite;
  --animate-spark-v: spark-v 24s linear infinite;
  --animate-spark-v-l: spark-v-l 128s linear infinite;
  --animate-reveal-text: reveal-text 4s ease forwards;
  --animate-sweep-light-bar: sweep-light-bar 4s ease forwards;
  --animate-sweep-light-bar-r: sweep-light-bar-r 4s ease forwards;

  @keyframes valid-error {
    from {
      opacity: 0;
      transform: translateY(-40%);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slide-lr {
    0% {
      transform: translateX(0);
    }
    100% {
      opacity: var(--_dest-opacity);
      transform: translateX(100%);
    }
  }

  @keyframes slide-bt {
    0% {
      transform: translateY(0);
    }
    100% {
      opacity: var(--_dest-opacity);
      transform: translateY(-100%);
    }
  }

  @keyframes fade-out {
    0%,
    33% {
      opacity: 1;
    }
    66%,
    100% {
      opacity: 0;
    }
  }

  @keyframes fade-in {
    0%,
    33% {
      opacity: 0;
    }
    66%,
    100% {
      opacity: 1;
    }
  }

  @keyframes fade-in-out {
    0%,
    10% {
      opacity: 0;
    }
    20%,
    40% {
      opacity: 1;
    }
    50%,
    100% {
      opacity: 0;
    }
  }

  @keyframes spark-h {
    0% {
      background-position: 0% 0%;
    }
    100% {
      background-position: 200% 0%;
    }
  }
  @keyframes spark-h-l {
    0% {
      background-position: 0% 0%;
    }
    100% {
      background-position: 800% 0%;
    }
  }

  @keyframes spark-v {
    0% {
      background-position: 0% 0%;
    }
    100% {
      background-position: 0% 200%;
    }
  }
  @keyframes spark-v-l {
    0% {
      background-position: 0% 0%;
    }
    100% {
      background-position: 0% 800%;
    }
  }

  @keyframes reveal-text {
    to {
      clip-path: inset(0 0 0 0);
    }
  }

  @keyframes sweep-light-bar {
    0%,
    5% {
      transform: scaleY(0) translateX(0);
    }
    10% {
      transform: scaleY(1) translateX(0);
    }
    90% {
      transform: scaleY(1) translateX(calc(100% - 1rem));
    }
    95%,
    100% {
      transform: scaleY(0) translateX(calc(100% - 1rem));
    }
  }

  @keyframes sweep-light-bar-r {
    0%,
    5% {
      transform: scaleY(0) translateX(0);
    }
    10% {
      transform: scaleY(1) translateX(0);
    }
    90% {
      transform: scaleY(1) translateX(calc(-100% + 1rem));
    }
    95%,
    100% {
      transform: scaleY(0) translateX(calc(-100% + 1rem));
    }
  }
}

@utility container {
  @apply mx-auto max-w-[min(90vw,65ch)];
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  html {
    color-scheme: dark;
    scrollbar-color: var(--primary-foreground) var(--background);
  }

  body {
    @apply bg-background text-foreground min-h-dvh text-base font-light;
  }

  a,
  button {
    @apply focus-visible:outline-accent-foreground transition duration-1000 ease-in-out focus-visible:outline focus-visible:outline-offset-1;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply max-w-[35ch] text-balance;
  }

  p {
    @apply max-w-prose text-pretty;
  }
}
